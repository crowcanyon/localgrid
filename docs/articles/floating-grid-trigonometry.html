<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Defining Accurate Floating Coordinate Reference Systems for Legacy Crow Canyon Projects • localgrid</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Defining Accurate Floating Coordinate Reference Systems for Legacy Crow Canyon Projects">
<meta property="og:description" content="localgrid">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">localgrid</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/floating-grid-trigonometry.html">Defining Accurate Floating Coordinate Reference Systems for Legacy Crow Canyon Projects</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="floating-grid-trigonometry_files/header-attrs-2.7/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Defining Accurate Floating Coordinate Reference Systems for Legacy Crow Canyon Projects</h1>
                        <h4 class="author">Kyle Bocinsky</h4>
            
            <h4 class="date">8/20/2020</h4>
      
      
      <div class="hidden name"><code>floating-grid-trigonometry.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">localgrid</span><span class="op">)</span></code></pre></div>
<p>The Crow Canyon Archaeological Center utilizes local, arbitrary spatial grids for their excavation projects in order to simplify record-keeping and protect the location of cultural sites. These grids are often built off of a primary datum and are intended to be oriented to true north. The primary datum is often (though not always) assigned the false easting and northing of (500,500), and project coordinates are taken in reference to the primary datum. Secondary datums have historically been established as backsights, and grid stakes set using a total station. These local grids are not perfectly aligned to true north, however, and there hasn’t historically been a consistent process for transforming the floating grid coordinates into geographic coordinates or other coordinate reference systems (CRSs).</p>
<p>Here, I describe a method for defining a projected coordinate reference system (CRS) for each CCAC legacy project that will correspond to the project’s floating grid. Associating this CRS to floating grid coordinates will allow for transformation to other CRSs, including UTM, Colorado State Plane, and geographic coordinates.</p>
<div id="target-crs-oblique-mercator" class="section level2">
<h2 class="hasAnchor">
<a href="#target-crs-oblique-mercator" class="anchor"></a>Target CRS: Oblique Mercator</h2>
<p>We define our target CRS as a parameterization of the <a href="https://proj.org/operations/projections/omerc.html">Oblique Mercator Projection (<em>OMerc</em>)</a>, a generalization of the Mercator projection where the ellipsoidal Earth is projected on a cylinder tilted at an arbitrary angle to the equator (i.e., neither along the equator or a meridian). <em>OMerc</em> is useful at local scales, with minimal distortion out to hundreds of kilometers from the point of origin. In the <a href="https://proj.org/about.html">PROJ cartographic projection system</a>, <em>OMerc</em> is defined with the following parameters that we will utilize here:</p>
<ul>
<li>
<strong>lonc</strong> (<span class="math inline">\(lon_0\)</span>): Longitude of the primary datum</li>
<li>
<strong>lat_0</strong> (<span class="math inline">\(lat_0\)</span>): Latitude of the primary datum</li>
<li>
<strong>alpha</strong> (<span class="math inline">\(\alpha\)</span>): Azimuth (rotation) of centerline clockwise from north at the center point of the line</li>
<li>
<strong>k_0</strong> (<span class="math inline">\(k_0\)</span>): Scale factor</li>
<li>
<strong>x_0</strong> (<span class="math inline">\(x_0\)</span>): False easting</li>
<li>
<strong>y_0</strong> (<span class="math inline">\(y_0\)</span>): False northing</li>
</ul>
<p>The values of several of these parameters are trivial — <span class="math inline">\(lon_0\)</span> and <span class="math inline">\(lat_0\)</span> are the geographic coordinates of the primary datum (preferably shot using a very high precision GPS receiver), and <span class="math inline">\(x_0\)</span> and <span class="math inline">\(y_0\)</span> are the coordinates of the primary datum in the floating grid (often 500,500 in Crow Canyon grids). However, deriving the rotation <span class="math inline">\(\alpha\)</span> and scale factor <span class="math inline">\(k_0\)</span> requires a bit of fundamental trigonometry.</p>
</div>
<div id="calculating-rotation-and-scaling-parameters-the-two-point-approach" class="section level2">
<h2 class="hasAnchor">
<a href="#calculating-rotation-and-scaling-parameters-the-two-point-approach" class="anchor"></a>Calculating rotation and scaling parameters: The two-point approach</h2>
<p>Here, we use high-precision geographic and floating coordinates for the primary datum and a secondary point on our floating grid in order to establish the rotation and scaling parameters for our floating CRS. In summary, the method first projects geographic coordinates into an un-rotated/un-scaled <em>OMerc</em> projection, then calculates the rotation and scaling parameters by applying rotation and scaling transformations to the projected geographic coordinates so that they conform to their floating counterparts.</p>
<div id="selecting-points" class="section level3">
<h3 class="hasAnchor">
<a href="#selecting-points" class="anchor"></a>Selecting points</h3>
<p>This method requires high-precision geographic (latitude/longitude) coordinates for two points in the floating grid: the primary datum about which rotation needs to occur, and a secondary point that must be a fixed point of known coordinates in the floating grid. This can be a secondary datum, grid stake, or fresh point shot with a total station using the primary datum and a back-sight. As a rule of thumb, a secondary point that is far from the primary datum (i.e., hundreds of meters away) may provide more precision for calculating the rotation and scaling parameters than a point that is closer to the datum.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">pts_geo</span> <span class="op">&lt;-</span> 
  <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/sfc.html">st_sfc</a></span><span class="op">(</span>
    <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
      <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st.html">st_point</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">108.510</span>, <span class="fl">37.385</span><span class="op">)</span><span class="op">)</span>,
      <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st.html">st_point</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">108.511</span>, <span class="fl">37.384</span><span class="op">)</span><span class="op">)</span>
    <span class="op">)</span>,
    crs <span class="op">=</span> <span class="fl">4326</span><span class="op">)</span>

<span class="va">pts_float</span> <span class="op">&lt;-</span> 
  <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/sfc.html">st_sfc</a></span><span class="op">(</span>
    <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
      <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st.html">st_point</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">500</span>,<span class="fl">500</span><span class="op">)</span><span class="op">)</span>,
      <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st.html">st_point</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">360</span>,<span class="fl">380</span><span class="op">)</span><span class="op">)</span>
    <span class="op">)</span>
  <span class="op">)</span></code></pre></div>
<p>For this example we’ll use two points from a fictional site. The differences between the floating and geographic coordinates are greatly exaggerated in this example, and all coordinates are rounded to three decimal places. For a real application, you would want much higher precision geographic coordinates… preferably out to 6 decimal places or more. Coordinates are given in (x,y) format.</p>
<ul>
<li>
<strong>Primary datum</strong>: Floating (500,500); Geographic (-108.51,37.385)</li>
<li>
<strong>Secondary point</strong>: Floating (360,380); Geographic (-108.511,37.384)</li>
</ul>
</div>
<div id="transforming-geographic-coordinates-into-an-un-rotatedunscaled-omerc-projection" class="section level3">
<h3 class="hasAnchor">
<a href="#transforming-geographic-coordinates-into-an-un-rotatedunscaled-omerc-projection" class="anchor"></a>Transforming geographic coordinates into an un-rotated/unscaled <em>OMerc</em> projection</h3>
<p>Here, we define an un-rotated/un-scaled <em>OMerc</em> projection centered at the primary datum and aligned to true north, and then transform the geographic coordinates for both the primary datum and the secondary point to the units of the <em>OMerc</em> projection. This will allow us to directly compare the un-rotated/un-scaled floating coordinates with the actual floating grid, and calculate the rotation and the scaling factor.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">as_proj</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">{</span>
  <span class="va">x</span> <span class="op">%&gt;%</span>
    <span class="op">{</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"+"</span>,<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span>,<span class="st">"="</span>,<span class="va">.</span>, collapse <span class="op">=</span> <span class="st">" "</span><span class="op">)</span><span class="op">}</span>
<span class="op">}</span>

<span class="va">datums_omerc</span> <span class="op">&lt;-</span>
  <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>proj <span class="op">=</span> <span class="st">"omerc"</span>,
       lat_0 <span class="op">=</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">pts_geo</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">[</span>,<span class="st">'Y'</span><span class="op">]</span>,
       lonc <span class="op">=</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">pts_geo</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">[</span>,<span class="st">'X'</span><span class="op">]</span>,
       alpha <span class="op">=</span> <span class="fl">0</span>,
       gamma <span class="op">=</span> <span class="fl">0</span>,
       k_0 <span class="op">=</span> <span class="fl">1</span>,
       x_0 <span class="op">=</span> <span class="fl">500</span>,
       y_0 <span class="op">=</span> <span class="fl">500</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/as_proj.html">as_proj</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_crs.html">st_crs</a></span><span class="op">(</span><span class="op">)</span>

<span class="va">pts_geo_float</span> <span class="op">&lt;-</span>
  <span class="va">pts_geo</span> <span class="op">%&gt;%</span>
  <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_transform.html">st_transform</a></span><span class="op">(</span><span class="va">datums_omerc</span><span class="op">)</span></code></pre></div>
<p>The un-rotated/un-scaled <em>OMerc</em> projection can be defined in the PROJ system as <code>+proj=omerc +lat_0=37.385 +lonc=-108.51 +alpha=0 +gamma=0 +k_0=1 +x_0=500 +y_0=500</code>. Transforming the geographic coordinates for both points to the un-rotated/un-scaled <em>OMerc</em> projection yields coordinates in the same units as the floating grid, with the primary datum at (500,500), and the secondary point at (411.438,389.016) (the coordinates are rounded to the nearest millimeter). Note that the secondary point is at very different coordinates than in the floating grid.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span>
<span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>
  point <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Primary Datum"</span>, 
                       <span class="st">"Floating Point"</span>, 
                       <span class="st">"Geographic Point"</span><span class="op">)</span>,
                 levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Primary Datum"</span>, 
                            <span class="st">"Floating Point"</span>, 
                            <span class="st">"Geographic Point"</span><span class="op">)</span>,
                 ordered <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,
  geom <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">pts_float</span>, <span class="va">pts_geo_float</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span>
<span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html">st_as_sf</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>color <span class="op">=</span> <span class="va">point</span>,
             shape <span class="op">=</span> <span class="va">point</span>,
             size <span class="op">=</span> <span class="va">point</span><span class="op">)</span>
  <span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"black"</span>,<span class="st">"black"</span>,<span class="st">"red"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_shape_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">17</span>, <span class="fl">19</span>, <span class="fl">19</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_size_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span>,
        legend.position <span class="op">=</span> <span class="st">"bottom"</span>,
        axis.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="floating-grid-trigonometry_files/figure-html/unnamed-chunk-4-1.png" width="700" style="display: block; margin: auto;"></p>
</div>
<div id="calculating-the-rotation-parameter-alpha" class="section level3">
<h3 class="hasAnchor">
<a href="#calculating-the-rotation-parameter-alpha" class="anchor"></a>Calculating the rotation parameter <span class="math inline">\(\alpha\)</span>
</h3>
<p>The rotation parameter <span class="math inline">\(\alpha\)</span> is defined as the angular difference from the primary datum to each of the secondary points, in degrees. We can use basic trigonometry to calculate the angle of each point from the <span class="math inline">\(x\)</span> axis, <span class="math inline">\(\theta\)</span>, of the secondary points, such that <span class="math inline">\(\theta = {\rm atan2}(y_0-y_1,x_0-x_1)\)</span>, where <span class="math inline">\((x_0,y_0)\)</span> is the coordinate of the primary datum in the floating grid [here (500,500)], and <span class="math inline">\((x_1,y_1)\)</span> is the coordinate of the secondary point. We subtract the <span class="math inline">\(\theta_g\)</span> for the geographic coordinates from <span class="math inline">\(\theta_f\)</span> for the floating coordinates, and then multiply by <span class="math inline">\(\frac{180}{\pi}\)</span> to convert from radians to degrees.</p>
<p><span class="math display">\[\begin{align}
\theta_g &amp;= {\rm atan2}(y_{0}-y_{g1}, x_{0}-x_{g1}) \\
\theta_g &amp;= {\rm atan2}(500 - 389.016, 500 - 411.438) \\
\theta_g &amp;= {\rm atan2}(110.984, 88.562) \\
\theta_g &amp;= 0.897 \\
\\ 
\theta_f &amp;= {\rm atan2}(y_{0}-y_{f1}, x_{0}-x_{f1}) \\
\theta_f &amp;= {\rm atan2}(500 - 380, 500 - 360) \\
\theta_f &amp;= {\rm atan2}(120, 140) \\
\theta_f &amp;= 0.709 \\
\\
\alpha &amp;= \theta_f - \theta_g \\
\alpha &amp;= -0.189 \times \frac{180}{\pi} \\
\alpha &amp;= -10.81
\end{align}\]</span></p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">theta_g</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Trig.html">atan2</a></span><span class="op">(</span><span class="fl">500</span> <span class="op">-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">pts_geo_float</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">[</span>,<span class="st">'Y'</span><span class="op">]</span>, 
                <span class="fl">500</span> <span class="op">-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">pts_geo_float</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">[</span>,<span class="st">'X'</span><span class="op">]</span><span class="op">)</span>

<span class="va">theta_f</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Trig.html">atan2</a></span><span class="op">(</span><span class="fl">500</span> <span class="op">-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">pts_float</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">[</span>,<span class="st">'Y'</span><span class="op">]</span>, 
                <span class="fl">500</span> <span class="op">-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">pts_float</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">[</span>,<span class="st">'X'</span><span class="op">]</span><span class="op">)</span>

<span class="va">alpha</span> <span class="op">=</span> 
  <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Trig.html">atan2</a></span><span class="op">(</span><span class="fl">500</span> <span class="op">-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">pts_float</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">[</span>,<span class="st">'Y'</span><span class="op">]</span>, 
         <span class="fl">500</span> <span class="op">-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">pts_float</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">[</span>,<span class="st">'X'</span><span class="op">]</span><span class="op">)</span> <span class="op">-</span> 
     <span class="fu"><a href="https://rdrr.io/r/base/Trig.html">atan2</a></span><span class="op">(</span><span class="fl">500</span> <span class="op">-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">pts_geo_float</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">[</span>,<span class="st">'Y'</span><span class="op">]</span>, 
           <span class="fl">500</span> <span class="op">-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">pts_geo_float</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">[</span>,<span class="st">'X'</span><span class="op">]</span><span class="op">)</span><span class="op">)</span> 

<span class="va">alpha_deg</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="fl">180</span><span class="op">/</span><span class="va">pi</span><span class="op">)</span> <span class="op">*</span> <span class="va">alpha</span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggforce.data-imaginist.com">ggforce</a></span><span class="op">)</span>
<span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>
  point <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Primary Datum"</span>, 
                       <span class="st">"Floating Point"</span>, 
                       <span class="st">"Geographic Point"</span><span class="op">)</span>,
                 levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Primary Datum"</span>, 
                            <span class="st">"Floating Point"</span>, 
                            <span class="st">"Geographic Point"</span><span class="op">)</span>,
                 ordered <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,
  geom <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">pts_float</span>, <span class="va">pts_geo_float</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span>
<span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html">st_as_sf</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>color <span class="op">=</span> <span class="va">point</span>,
             shape <span class="op">=</span> <span class="va">point</span>,
             size <span class="op">=</span> <span class="va">point</span><span class="op">)</span>
  <span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggforce.data-imaginist.com/reference/geom_arc.html">geom_arc</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x0 <span class="op">=</span> <span class="fl">500</span>,
               y0 <span class="op">=</span> <span class="fl">500</span>,
               r <span class="op">=</span> <span class="fl">20</span>,
               start <span class="op">=</span> <span class="va">pi</span>,
               end <span class="op">=</span> <span class="op">(</span><span class="fl">3</span><span class="op">*</span><span class="va">pi</span><span class="op">/</span><span class="fl">2</span><span class="op">)</span> <span class="op">-</span> <span class="va">theta_g</span><span class="op">)</span>,
           size <span class="op">=</span> <span class="fl">0.5</span>,
           color <span class="op">=</span> <span class="st">"red"</span>,
           lineend <span class="op">=</span> <span class="st">"butt"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_text.html">geom_text</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">500</span> <span class="op">+</span> <span class="fl">20</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/Trig.html">cos</a></span><span class="op">(</span><span class="op">(</span><span class="fl">3</span><span class="op">*</span><span class="va">pi</span><span class="op">/</span><span class="fl">2</span><span class="op">)</span> <span class="op">-</span> <span class="va">theta_g</span><span class="op">/</span><span class="fl">2</span><span class="op">)</span>,
                y <span class="op">=</span> <span class="fl">500</span> <span class="op">+</span> <span class="fl">20</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/Trig.html">sin</a></span><span class="op">(</span><span class="op">(</span><span class="fl">3</span><span class="op">*</span><span class="va">pi</span><span class="op">/</span><span class="fl">2</span><span class="op">)</span> <span class="op">-</span> <span class="va">theta_g</span><span class="op">/</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span>,
            label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/expression.html">expression</a></span><span class="op">(</span><span class="va">theta</span><span class="op">[</span><span class="st">"g"</span><span class="op">]</span><span class="op">)</span>,
            hjust <span class="op">=</span> <span class="op">-</span><span class="fl">0.15</span>,
            vjust <span class="op">=</span> <span class="op">-</span><span class="fl">0.15</span>,
            color <span class="op">=</span> <span class="st">"red"</span>,
            size <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggforce.data-imaginist.com/reference/geom_arc.html">geom_arc</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x0 <span class="op">=</span> <span class="fl">500</span>,
               y0 <span class="op">=</span> <span class="fl">500</span>,
               r <span class="op">=</span> <span class="fl">25</span>,
               start <span class="op">=</span> <span class="va">pi</span>,
               end <span class="op">=</span> <span class="op">(</span><span class="fl">3</span><span class="op">*</span><span class="va">pi</span><span class="op">/</span><span class="fl">2</span><span class="op">)</span> <span class="op">-</span> <span class="va">theta_f</span><span class="op">)</span>,
           size <span class="op">=</span> <span class="fl">0.5</span>,
           color <span class="op">=</span> <span class="st">"black"</span>,
           lineend <span class="op">=</span> <span class="st">"butt"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_text.html">geom_text</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">500</span> <span class="op">+</span> <span class="fl">25</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/Trig.html">cos</a></span><span class="op">(</span><span class="op">(</span><span class="fl">3</span><span class="op">*</span><span class="va">pi</span><span class="op">/</span><span class="fl">2</span><span class="op">)</span> <span class="op">-</span> <span class="va">theta_f</span><span class="op">/</span><span class="fl">2</span><span class="op">)</span>,
                y <span class="op">=</span> <span class="fl">500</span> <span class="op">+</span> <span class="fl">25</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/Trig.html">sin</a></span><span class="op">(</span><span class="op">(</span><span class="fl">3</span><span class="op">*</span><span class="va">pi</span><span class="op">/</span><span class="fl">2</span><span class="op">)</span> <span class="op">-</span> <span class="va">theta_f</span><span class="op">/</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span>,
            label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/expression.html">expression</a></span><span class="op">(</span><span class="va">theta</span><span class="op">[</span><span class="st">"f"</span><span class="op">]</span><span class="op">)</span>,
            hjust <span class="op">=</span> <span class="fl">1.15</span>,
            vjust <span class="op">=</span> <span class="fl">1.15</span>,
            color <span class="op">=</span> <span class="st">"black"</span>,
            size <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggforce.data-imaginist.com/reference/geom_arc.html">geom_arc</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x0 <span class="op">=</span> <span class="fl">500</span>,
               y0 <span class="op">=</span> <span class="fl">500</span>,
               r <span class="op">=</span> <span class="fl">30</span>,
               start <span class="op">=</span> <span class="op">(</span><span class="fl">3</span><span class="op">*</span><span class="va">pi</span><span class="op">/</span><span class="fl">2</span><span class="op">)</span> <span class="op">-</span> <span class="va">theta_g</span>,
               end <span class="op">=</span> <span class="op">(</span><span class="fl">3</span><span class="op">*</span><span class="va">pi</span><span class="op">/</span><span class="fl">2</span><span class="op">)</span> <span class="op">-</span> <span class="va">theta_f</span><span class="op">)</span>,
           size <span class="op">=</span> <span class="fl">0.5</span>,
           color <span class="op">=</span> <span class="st">"dodgerblue"</span>,
           lineend <span class="op">=</span> <span class="st">"butt"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_text.html">geom_text</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">500</span> <span class="op">+</span> <span class="fl">30</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/Trig.html">cos</a></span><span class="op">(</span><span class="op">(</span><span class="fl">3</span><span class="op">*</span><span class="va">pi</span><span class="op">/</span><span class="fl">2</span><span class="op">)</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">theta_g</span>,<span class="va">theta_f</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,
                y <span class="op">=</span> <span class="fl">500</span> <span class="op">+</span> <span class="fl">30</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/Trig.html">sin</a></span><span class="op">(</span><span class="op">(</span><span class="fl">3</span><span class="op">*</span><span class="va">pi</span><span class="op">/</span><span class="fl">2</span><span class="op">)</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">theta_g</span>,<span class="va">theta_f</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,
            label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/expression.html">expression</a></span><span class="op">(</span><span class="va">alpha</span><span class="op">)</span>,
            hjust <span class="op">=</span> <span class="fl">0.5</span> <span class="op">+</span> <span class="fl">0.65</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/Trig.html">cos</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">theta_g</span>,<span class="va">theta_f</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,
            vjust <span class="op">=</span> <span class="fl">0.5</span> <span class="op">+</span> <span class="fl">0.65</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/Trig.html">sin</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">theta_g</span>,<span class="va">theta_f</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,
            color <span class="op">=</span> <span class="st">"dodgerblue"</span>,
            size <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_segment.html">geom_segment</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">500</span>, 
                   y <span class="op">=</span> <span class="fl">500</span>, 
                   xend <span class="op">=</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">pts_float</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">[</span>,<span class="st">'X'</span><span class="op">]</span>,
                   yend <span class="op">=</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">pts_float</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">[</span>,<span class="st">'Y'</span><span class="op">]</span><span class="op">)</span>,
               size <span class="op">=</span> <span class="fl">0.5</span>,
               color <span class="op">=</span> <span class="st">"gray70"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_segment.html">geom_segment</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">500</span>, 
                   y <span class="op">=</span> <span class="fl">500</span>, 
                   xend <span class="op">=</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">pts_geo_float</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">[</span>,<span class="st">'X'</span><span class="op">]</span>,
                   yend <span class="op">=</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">pts_geo_float</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">[</span>,<span class="st">'Y'</span><span class="op">]</span><span class="op">)</span>,
               size <span class="op">=</span> <span class="fl">0.5</span>,
               color <span class="op">=</span> <span class="st">"gray70"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"black"</span>, <span class="st">"black"</span>, <span class="st">"red"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_shape_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">17</span>, <span class="fl">19</span>, <span class="fl">19</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_size_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span>,
        legend.position <span class="op">=</span> <span class="st">"bottom"</span>,
        axis.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="floating-grid-trigonometry_files/figure-html/unnamed-chunk-6-1.png" width="700" style="display: block; margin: auto;"></p>
<p>After rotation, the geographic secondary point aligns to the same ray from the primary datum as the floating secondary point.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">rotated_omerc</span> <span class="op">&lt;-</span>
  <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>proj <span class="op">=</span> <span class="st">"omerc"</span>,
       lat_0 <span class="op">=</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">pts_geo</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">[</span>,<span class="st">'Y'</span><span class="op">]</span>,
       lonc <span class="op">=</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">pts_geo</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">[</span>,<span class="st">'X'</span><span class="op">]</span>,
       alpha <span class="op">=</span> <span class="va">alpha_deg</span>,
       gamma <span class="op">=</span> <span class="fl">0</span>,
       k_0 <span class="op">=</span> <span class="fl">1</span>,
       x_0 <span class="op">=</span> <span class="fl">500</span>,
       y_0 <span class="op">=</span> <span class="fl">500</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/as_proj.html">as_proj</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_crs.html">st_crs</a></span><span class="op">(</span><span class="op">)</span>

<span class="va">pts_geo_rotated</span> <span class="op">&lt;-</span> 
  <span class="va">pts_geo</span> <span class="op">%&gt;%</span>
  <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_transform.html">st_transform</a></span><span class="op">(</span><span class="va">rotated_omerc</span><span class="op">)</span>

<span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>
  point <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Primary Datum"</span>, 
                       <span class="st">"Floating Point"</span>, 
                       <span class="st">"Geographic Point"</span><span class="op">)</span>,
                 levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Primary Datum"</span>, 
                            <span class="st">"Floating Point"</span>, 
                            <span class="st">"Geographic Point"</span><span class="op">)</span>,
                 ordered <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,
  geom <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">pts_float</span>, 
           <span class="va">pts_geo_rotated</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span>
<span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html">st_as_sf</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>color <span class="op">=</span> <span class="va">point</span>,
             shape <span class="op">=</span> <span class="va">point</span>,
             size <span class="op">=</span> <span class="va">point</span><span class="op">)</span>
  <span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_segment.html">geom_segment</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">500</span>, 
                   y <span class="op">=</span> <span class="fl">500</span>, 
                   xend <span class="op">=</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">pts_float</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">[</span>,<span class="st">'X'</span><span class="op">]</span>,
                   yend <span class="op">=</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">pts_float</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">[</span>,<span class="st">'Y'</span><span class="op">]</span><span class="op">)</span>,
               size <span class="op">=</span> <span class="fl">0.5</span>,
               color <span class="op">=</span> <span class="st">"gray70"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_segment.html">geom_segment</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">500</span>, 
                   y <span class="op">=</span> <span class="fl">500</span>, 
                   xend <span class="op">=</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">pts_geo_rotated</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">[</span>,<span class="st">'X'</span><span class="op">]</span>,
                   yend <span class="op">=</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">pts_geo_rotated</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">[</span>,<span class="st">'Y'</span><span class="op">]</span><span class="op">)</span>,
               size <span class="op">=</span> <span class="fl">0.5</span>,
               color <span class="op">=</span> <span class="st">"gray70"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"black"</span>, <span class="st">"black"</span>, <span class="st">"red"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_shape_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">17</span>, <span class="fl">19</span>, <span class="fl">19</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_size_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span>,
        legend.position <span class="op">=</span> <span class="st">"bottom"</span>,
        axis.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="floating-grid-trigonometry_files/figure-html/unnamed-chunk-7-1.png" width="700" style="display: block; margin: auto;"></p>
</div>
<div id="calculating-the-scaling-parameter-k_0" class="section level3">
<h3 class="hasAnchor">
<a href="#calculating-the-scaling-parameter-k_0" class="anchor"></a>Calculating the scaling parameter <span class="math inline">\(k_0\)</span>
</h3>
<p>The scaling parameter <span class="math inline">\(k_0\)</span> is defined as the scaler required for the distance <span class="math inline">\(d_g\)</span> from the secondary point in geographic coordinates to the primary datum to equal the distance <span class="math inline">\(d_f\)</span> from the secondary point in floating coordinates to the primary datum. We use the standard Cartesian distance calculation, <span class="math inline">\(d = \sqrt{(y_1 - y_0)^2 + (x_1 - x_0)^2}\)</span>.</p>
<p><span class="math display">\[\begin{align}

k_0 \times d_g &amp;= d_f \\
k_0 &amp;= \frac{d_f}{d_g} \\
k_0 &amp;= \frac{\sqrt{(380 - 500)^2 + (360 - 500)^2}}{\sqrt{(389.016 - 500)^2 + (411.438 - 500)^2}} \\
k_0 &amp;= \frac{184.391}{141.989} \\
k_0 &amp;= 1.299

\end{align}\]</span></p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">k_0</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="op">(</span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">pts_float</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">[</span>,<span class="st">'Y'</span><span class="op">]</span> <span class="op">-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">pts_float</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">[</span>,<span class="st">'Y'</span><span class="op">]</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span> <span class="op">+</span> <span class="op">(</span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">pts_float</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">[</span>,<span class="st">'X'</span><span class="op">]</span> <span class="op">-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">pts_float</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">[</span>,<span class="st">'X'</span><span class="op">]</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="op">(</span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">pts_geo_float</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">[</span>,<span class="st">'Y'</span><span class="op">]</span> <span class="op">-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">pts_geo_float</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">[</span>,<span class="st">'Y'</span><span class="op">]</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span> <span class="op">+</span> <span class="op">(</span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">pts_geo_float</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">[</span>,<span class="st">'X'</span><span class="op">]</span> <span class="op">-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">pts_geo_float</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">[</span>,<span class="st">'X'</span><span class="op">]</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>
  point <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Primary Datum"</span>, 
                       <span class="st">"Floating Point"</span>, 
                       <span class="st">"Geographic Point"</span><span class="op">)</span>,
                 levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Primary Datum"</span>, 
                            <span class="st">"Floating Point"</span>, 
                            <span class="st">"Geographic Point"</span><span class="op">)</span>,
                 ordered <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,
  geom <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">pts_float</span>, 
           <span class="va">pts_geo_float</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span>
<span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html">st_as_sf</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>color <span class="op">=</span> <span class="va">point</span>,
             shape <span class="op">=</span> <span class="va">point</span>,
             size <span class="op">=</span> <span class="va">point</span><span class="op">)</span>
  <span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_segment.html">geom_segment</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">500</span>, 
                   y <span class="op">=</span> <span class="fl">500</span>, 
                   xend <span class="op">=</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">pts_float</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">[</span>,<span class="st">'X'</span><span class="op">]</span>,
                   yend <span class="op">=</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">pts_float</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">[</span>,<span class="st">'Y'</span><span class="op">]</span><span class="op">)</span>,
               size <span class="op">=</span> <span class="fl">0.5</span>,
               color <span class="op">=</span> <span class="st">"black"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_text.html">geom_text</a></span><span class="op">(</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>
      x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">500</span>,<span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">pts_float</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">[</span>,<span class="st">'X'</span><span class="op">]</span><span class="op">)</span><span class="op">)</span>,
      y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">500</span>,<span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">pts_float</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">[</span>,<span class="st">'Y'</span><span class="op">]</span><span class="op">)</span><span class="op">)</span>
    <span class="op">)</span>,
    label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/expression.html">expression</a></span><span class="op">(</span><span class="va">d</span><span class="op">[</span><span class="va">f</span><span class="op">]</span><span class="op">)</span>,
    hjust <span class="op">=</span> <span class="fl">1.15</span>,
    vjust <span class="op">=</span> <span class="op">-</span><span class="fl">0.15</span>,
    color <span class="op">=</span> <span class="st">"black"</span>,
    size <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_segment.html">geom_segment</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">500</span>, 
                   y <span class="op">=</span> <span class="fl">500</span>, 
                   xend <span class="op">=</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">pts_geo_float</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">[</span>,<span class="st">'X'</span><span class="op">]</span>,
                   yend <span class="op">=</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">pts_geo_float</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">[</span>,<span class="st">'Y'</span><span class="op">]</span><span class="op">)</span>,
               size <span class="op">=</span> <span class="fl">0.5</span>,
               color <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_text.html">geom_text</a></span><span class="op">(</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>
      x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">500</span>,<span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">pts_geo_float</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">[</span>,<span class="st">'X'</span><span class="op">]</span><span class="op">)</span><span class="op">)</span>,
      y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">500</span>,<span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">pts_geo_float</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">[</span>,<span class="st">'Y'</span><span class="op">]</span><span class="op">)</span><span class="op">)</span>
    <span class="op">)</span>,
    label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/expression.html">expression</a></span><span class="op">(</span><span class="va">d</span><span class="op">[</span><span class="va">g</span><span class="op">]</span><span class="op">)</span>,
    hjust <span class="op">=</span> <span class="fl">1.15</span>,
    vjust <span class="op">=</span> <span class="op">-</span><span class="fl">0.15</span>,
    color <span class="op">=</span> <span class="st">"red"</span>,
    size <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"black"</span>, <span class="st">"black"</span>, <span class="st">"red"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_shape_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">17</span>, <span class="fl">19</span>, <span class="fl">19</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_size_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span>,
        legend.position <span class="op">=</span> <span class="st">"bottom"</span>,
        axis.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="floating-grid-trigonometry_files/figure-html/unnamed-chunk-9-1.png" width="700" style="display: block; margin: auto;"></p>
<p>After scaling, the geographic secondary point is the same distance from the primary datum as the floating secondary point.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">scaled_omerc</span> <span class="op">&lt;-</span>
  <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>proj <span class="op">=</span> <span class="st">"omerc"</span>,
       lat_0 <span class="op">=</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">pts_geo</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">[</span>,<span class="st">'Y'</span><span class="op">]</span>,
       lonc <span class="op">=</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">pts_geo</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">[</span>,<span class="st">'X'</span><span class="op">]</span>,
       alpha <span class="op">=</span> <span class="fl">0</span>,
       gamma <span class="op">=</span> <span class="fl">0</span>,
       k_0 <span class="op">=</span> <span class="va">k_0</span>,
       x_0 <span class="op">=</span> <span class="fl">500</span>,
       y_0 <span class="op">=</span> <span class="fl">500</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/as_proj.html">as_proj</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_crs.html">st_crs</a></span><span class="op">(</span><span class="op">)</span>

<span class="va">pts_geo_scaled</span> <span class="op">&lt;-</span> 
  <span class="va">pts_geo</span> <span class="op">%&gt;%</span>
  <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_transform.html">st_transform</a></span><span class="op">(</span><span class="va">scaled_omerc</span><span class="op">)</span>

<span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>
  point <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Primary Datum"</span>, 
                       <span class="st">"Floating Point"</span>, 
                       <span class="st">"Geographic Point"</span><span class="op">)</span>,
                 levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Primary Datum"</span>, 
                            <span class="st">"Floating Point"</span>, 
                            <span class="st">"Geographic Point"</span><span class="op">)</span>,
                 ordered <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,
  geom <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">pts_float</span>, 
           <span class="va">pts_geo_scaled</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span>
<span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html">st_as_sf</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>color <span class="op">=</span> <span class="va">point</span>,
             shape <span class="op">=</span> <span class="va">point</span>,
             size <span class="op">=</span> <span class="va">point</span><span class="op">)</span>
  <span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_segment.html">geom_segment</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">500</span>, 
                   y <span class="op">=</span> <span class="fl">500</span>, 
                   xend <span class="op">=</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">pts_float</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">[</span>,<span class="st">'X'</span><span class="op">]</span>,
                   yend <span class="op">=</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">pts_float</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">[</span>,<span class="st">'Y'</span><span class="op">]</span><span class="op">)</span>,
               size <span class="op">=</span> <span class="fl">0.5</span>,
               color <span class="op">=</span> <span class="st">"black"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_segment.html">geom_segment</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">500</span>, 
                   y <span class="op">=</span> <span class="fl">500</span>, 
                   xend <span class="op">=</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">pts_geo_scaled</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">[</span>,<span class="st">'X'</span><span class="op">]</span>,
                   yend <span class="op">=</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">pts_geo_scaled</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">[</span>,<span class="st">'Y'</span><span class="op">]</span><span class="op">)</span>,
               size <span class="op">=</span> <span class="fl">0.5</span>,
               color <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"black"</span>, <span class="st">"black"</span>, <span class="st">"red"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_shape_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">17</span>, <span class="fl">19</span>, <span class="fl">19</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_size_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span>,
        legend.position <span class="op">=</span> <span class="st">"bottom"</span>,
        axis.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="floating-grid-trigonometry_files/figure-html/unnamed-chunk-10-1.png" width="700" style="display: block; margin: auto;"></p>
</div>
<div id="defining-the-rotatedscaled-omerc-projection" class="section level3">
<h3 class="hasAnchor">
<a href="#defining-the-rotatedscaled-omerc-projection" class="anchor"></a>Defining the rotated/scaled <em>OMerc</em> projection</h3>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">final_omerc</span> <span class="op">&lt;-</span>
  <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>proj <span class="op">=</span> <span class="st">"omerc"</span>,
       lat_0 <span class="op">=</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">pts_geo</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">[</span>,<span class="st">'Y'</span><span class="op">]</span>,
       lonc <span class="op">=</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">pts_geo</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">[</span>,<span class="st">'X'</span><span class="op">]</span>,
       alpha <span class="op">=</span> <span class="va">alpha_deg</span>,
       gamma <span class="op">=</span> <span class="fl">0</span>,
       k_0 <span class="op">=</span> <span class="va">k_0</span>,
       x_0 <span class="op">=</span> <span class="fl">500</span>,
       y_0 <span class="op">=</span> <span class="fl">500</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/as_proj.html">as_proj</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_crs.html">st_crs</a></span><span class="op">(</span><span class="op">)</span>

<span class="va">final_omerc_rounded</span> <span class="op">&lt;-</span>
  <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>proj <span class="op">=</span> <span class="st">"omerc"</span>,
       lat_0 <span class="op">=</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">pts_geo</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">[</span>,<span class="st">'Y'</span><span class="op">]</span>,
       lonc <span class="op">=</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">pts_geo</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">[</span>,<span class="st">'X'</span><span class="op">]</span>,
       alpha <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">alpha_deg</span>,<span class="fl">3</span><span class="op">)</span>,
       gamma <span class="op">=</span> <span class="fl">0</span>,
       k_0 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">k_0</span>,<span class="fl">3</span><span class="op">)</span>,
       x_0 <span class="op">=</span> <span class="fl">500</span>,
       y_0 <span class="op">=</span> <span class="fl">500</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/as_proj.html">as_proj</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>We can once again define the rotated and scaled <em>OMerc</em> projection using its PROJ definition as <code>+proj=omerc +lat_0=37.385 +lonc=-108.51 +alpha=-10.81 +gamma=0 +k_0=1.299 +x_0=500 +y_0=500</code>. Increasingly, CRSs are being defined using <a href="https://www.iso.org/standard/76496.html">well-known text (WKT) representations of coordinate reference systems</a>. Using R or QGIS, we can view the WKT for our new CRS:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode json"><code class="sourceCode json"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="er">PROJCRS</span><span class="ot">[</span><span class="st">"unknown"</span><span class="ot">,</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>    <span class="er">BASEGEOGCRS</span><span class="ot">[</span><span class="st">"unknown"</span><span class="ot">,</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>        <span class="er">DATUM</span><span class="ot">[</span><span class="st">"World Geodetic System 1984"</span><span class="ot">,</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>            <span class="er">ELLIPSOID</span><span class="ot">[</span><span class="st">"WGS 84"</span><span class="ot">,</span><span class="dv">6378137</span><span class="ot">,</span><span class="fl">298.257223563</span><span class="ot">,</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>                <span class="er">LENGTHUNIT</span><span class="ot">[</span><span class="st">"metre"</span><span class="ot">,</span><span class="dv">1</span><span class="ot">]],</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>            <span class="er">ID</span><span class="ot">[</span><span class="st">"EPSG"</span><span class="ot">,</span><span class="dv">6326</span><span class="ot">]],</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>        <span class="er">PRIMEM</span><span class="ot">[</span><span class="st">"Greenwich"</span><span class="ot">,</span><span class="dv">0</span><span class="ot">,</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>            <span class="er">ANGLEUNIT</span><span class="ot">[</span><span class="st">"degree"</span><span class="ot">,</span><span class="fl">0.0174532925199433</span><span class="ot">],</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>            <span class="er">ID</span><span class="ot">[</span><span class="st">"EPSG"</span><span class="ot">,</span><span class="dv">8901</span><span class="ot">]]],</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>    <span class="er">CONVERSION</span><span class="ot">[</span><span class="st">"unknown"</span><span class="ot">,</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>        <span class="er">METHOD</span><span class="ot">[</span><span class="st">"Hotine Oblique Mercator (variant B)"</span><span class="ot">,</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>            <span class="er">ID</span><span class="ot">[</span><span class="st">"EPSG"</span><span class="ot">,</span><span class="dv">9815</span><span class="ot">]],</span></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>        <span class="er">PARAMETER</span><span class="ot">[</span><span class="st">"Latitude of projection centre"</span><span class="ot">,</span><span class="fl">37.385</span><span class="ot">,</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>            <span class="er">ANGLEUNIT</span><span class="ot">[</span><span class="st">"degree"</span><span class="ot">,</span><span class="fl">0.0174532925199433</span><span class="ot">],</span></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>            <span class="er">ID</span><span class="ot">[</span><span class="st">"EPSG"</span><span class="ot">,</span><span class="dv">8811</span><span class="ot">]],</span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>        <span class="er">PARAMETER</span><span class="ot">[</span><span class="st">"Longitude of projection centre"</span><span class="ot">,</span><span class="fl">-108.51</span><span class="ot">,</span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>            <span class="er">ANGLEUNIT</span><span class="ot">[</span><span class="st">"degree"</span><span class="ot">,</span><span class="fl">0.0174532925199433</span><span class="ot">],</span></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>            <span class="er">ID</span><span class="ot">[</span><span class="st">"EPSG"</span><span class="ot">,</span><span class="dv">8812</span><span class="ot">]],</span></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>        <span class="er">PARAMETER</span><span class="ot">[</span><span class="st">"Azimuth of initial line"</span><span class="ot">,</span><span class="fl">-10.8099400561365</span><span class="ot">,</span></span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>            <span class="er">ANGLEUNIT</span><span class="ot">[</span><span class="st">"degree"</span><span class="ot">,</span><span class="fl">0.0174532925199433</span><span class="ot">],</span></span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a>            <span class="er">ID</span><span class="ot">[</span><span class="st">"EPSG"</span><span class="ot">,</span><span class="dv">8813</span><span class="ot">]],</span></span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a>        <span class="er">PARAMETER</span><span class="ot">[</span><span class="st">"Angle from Rectified to Skew Grid"</span><span class="ot">,</span><span class="dv">0</span><span class="ot">,</span></span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a>            <span class="er">ANGLEUNIT</span><span class="ot">[</span><span class="st">"degree"</span><span class="ot">,</span><span class="fl">0.0174532925199433</span><span class="ot">],</span></span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a>            <span class="er">ID</span><span class="ot">[</span><span class="st">"EPSG"</span><span class="ot">,</span><span class="dv">8814</span><span class="ot">]],</span></span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a>        <span class="er">PARAMETER</span><span class="ot">[</span><span class="st">"Scale factor on initial line"</span><span class="ot">,</span><span class="fl">1.29863131831123</span><span class="ot">,</span></span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a>            <span class="er">SCALEUNIT</span><span class="ot">[</span><span class="st">"unity"</span><span class="ot">,</span><span class="dv">1</span><span class="ot">],</span></span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a>            <span class="er">ID</span><span class="ot">[</span><span class="st">"EPSG"</span><span class="ot">,</span><span class="dv">8815</span><span class="ot">]],</span></span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a>        <span class="er">PARAMETER</span><span class="ot">[</span><span class="st">"Easting at projection centre"</span><span class="ot">,</span><span class="dv">500</span><span class="ot">,</span></span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a>            <span class="er">LENGTHUNIT</span><span class="ot">[</span><span class="st">"metre"</span><span class="ot">,</span><span class="dv">1</span><span class="ot">],</span></span>
<span id="cb12-30"><a href="#cb12-30" aria-hidden="true" tabindex="-1"></a>            <span class="er">ID</span><span class="ot">[</span><span class="st">"EPSG"</span><span class="ot">,</span><span class="dv">8816</span><span class="ot">]],</span></span>
<span id="cb12-31"><a href="#cb12-31" aria-hidden="true" tabindex="-1"></a>        <span class="er">PARAMETER</span><span class="ot">[</span><span class="st">"Northing at projection centre"</span><span class="ot">,</span><span class="dv">500</span><span class="ot">,</span></span>
<span id="cb12-32"><a href="#cb12-32" aria-hidden="true" tabindex="-1"></a>            <span class="er">LENGTHUNIT</span><span class="ot">[</span><span class="st">"metre"</span><span class="ot">,</span><span class="dv">1</span><span class="ot">],</span></span>
<span id="cb12-33"><a href="#cb12-33" aria-hidden="true" tabindex="-1"></a>            <span class="er">ID</span><span class="ot">[</span><span class="st">"EPSG"</span><span class="ot">,</span><span class="dv">8817</span><span class="ot">]]],</span></span>
<span id="cb12-34"><a href="#cb12-34" aria-hidden="true" tabindex="-1"></a>    <span class="er">CS</span><span class="ot">[</span><span class="er">Cartesian</span><span class="ot">,</span><span class="dv">2</span><span class="ot">],</span></span>
<span id="cb12-35"><a href="#cb12-35" aria-hidden="true" tabindex="-1"></a>        <span class="er">AXIS</span><span class="ot">[</span><span class="st">"(E)"</span><span class="ot">,</span><span class="er">east</span><span class="ot">,</span></span>
<span id="cb12-36"><a href="#cb12-36" aria-hidden="true" tabindex="-1"></a>            <span class="er">ORDER</span><span class="ot">[</span><span class="dv">1</span><span class="ot">],</span></span>
<span id="cb12-37"><a href="#cb12-37" aria-hidden="true" tabindex="-1"></a>            <span class="er">LENGTHUNIT</span><span class="ot">[</span><span class="st">"metre"</span><span class="ot">,</span><span class="dv">1</span><span class="ot">,</span></span>
<span id="cb12-38"><a href="#cb12-38" aria-hidden="true" tabindex="-1"></a>                <span class="er">ID</span><span class="ot">[</span><span class="st">"EPSG"</span><span class="ot">,</span><span class="dv">9001</span><span class="ot">]]],</span></span>
<span id="cb12-39"><a href="#cb12-39" aria-hidden="true" tabindex="-1"></a>        <span class="er">AXIS</span><span class="ot">[</span><span class="st">"(N)"</span><span class="ot">,</span><span class="er">north</span><span class="ot">,</span></span>
<span id="cb12-40"><a href="#cb12-40" aria-hidden="true" tabindex="-1"></a>            <span class="er">ORDER</span><span class="ot">[</span><span class="dv">2</span><span class="ot">],</span></span>
<span id="cb12-41"><a href="#cb12-41" aria-hidden="true" tabindex="-1"></a>            <span class="er">LENGTHUNIT</span><span class="ot">[</span><span class="st">"metre"</span><span class="ot">,</span><span class="dv">1</span><span class="ot">,</span></span>
<span id="cb12-42"><a href="#cb12-42" aria-hidden="true" tabindex="-1"></a>                <span class="er">ID</span><span class="ot">[</span><span class="st">"EPSG"</span><span class="ot">,</span><span class="dv">9001</span><span class="ot">]]]]</span></span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Kyle Bocinsky.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
