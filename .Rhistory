usethis::use_package(sf)
usethis::use_package("sf")
usethis::use_pipe()
usethis::use_mit_license()
?usethis::use_tidy_github()
usethis::use_tidy_github_actions(use_tidy_github_actions())
usethis::use_tidy_github_actions()
usethis::use_tidy_github()
?sf::st_crs
usethis::use_roxygen_md()
devtools::load_all()
define_new_grid(pt_0_geo_x = -108.51,)
define_new_grid(pt_0_geo_x = -108.51,pt_0_geo_y = 37.385,pt_0_grid_x = 500,pt_0_grid_y = 500)
devtools::load_all()
define_new_grid(pt_0_geo = c(-108.51, 37.385), pt_0_grid = c(500, 500))
help(define_new_grid)
define_new_grid(
pt_0_geo = c(-108.51, 37.385),
pt_0_grid = c(500, 500),
name = NULL
)
pt_0_geo = c(-108.51, 37.385)
pt_0_grid = c(500, 500)
pt_1_geo = c(-108.511, 37.384)
pt_1_grid = c(360, 380)
name = NULL
datums <-
tibble::tibble(
`Float Easting` = c(pt_0_grid[[1]],
pt_1_grid[[1]]),
`Float Northing` = c(pt_0_grid[[2]],
pt_1_grid[[2]]),
`GEO Easting` = c(pt_0_geo[[1]],
pt_1_geo[[1]]),
`GEO Northing` = c(pt_0_geo[[2]],
pt_1_geo[[2]])
) %>%
sf::st_as_sf(coords = c("GEO Easting",
"GEO Northing"),
remove = FALSE,
crs = 4326)
datums
datums_omerc <-
define_new_grid(pt_0_geo = pt_0_geo,
pt_0_grid = pt_0_grid)
datums_omerc
floating_rotation <-
datums %>%
sf::st_transform(datums_omerc) %>%
dplyr::mutate(`OMERC Easting` =
sf::st_coordinates(geometry)[,'X'],
`OMERC Northing` =
sf::st_coordinates(geometry)[,'Y']) %$%
{
(180/pi) *
(
do.call(atan2,
list(diff(`Float Northing`[c(1,2)]),
diff(`Float Easting`[c(1,2)]))) -
do.call(atan2,
list(diff(`OMERC Northing`[c(1,2)]),
diff(`OMERC Easting`[c(1,2)])))
)
} %>%
as.numeric()
floating_rotation
usethis::use_package("magrittr", type = "Requires")
usethis::use_package("magrittr", type = "depends")
devtools::load_all()
help(define_legacy_grid)
define_legacy_grid(
pt_0_geo = c(-108.51, 37.385),
pt_0_grid = c(500, 500),
pt_1_geo = c(-108.511, 37.384),
pt_1_grid = c(360, 380),
name = NULL
)
devtools::load_all()
define_legacy_grid(
pt_0_geo = c(-108.51, 37.385),
pt_0_grid = c(500, 500),
pt_1_geo = c(-108.511, 37.384),
pt_1_grid = c(360, 380),
name = NULL
)
usethis::use_vignette(name = "Floating Grid Trig", title = "Defining Accurate Floating Coordinate Reference Systems for Legacy Crow Canyon Projects")
usethis::use_vignette(name = "floating-grid-trigonometry", title = "Defining Accurate Floating Coordinate Reference Systems for Legacy Crow Canyon Projects")
devtools::load_all()
help(as_proj)
as_proj(
list(
proj = "omerc",
lat_0 = 37.385,
lonc = -108.51,
alpha = 0,
gamma = 0,
k_0 = 1,
x_0 = 500,
y_0 = 500
)
usethis::use_readme_rmd()
library(localgrid)
help(as_proj)
as_proj(
list(
proj = "omerc",
lat_0 = 37.385,
lonc = -108.51,
alpha = 0,
gamma = 0,
k_0 = 1,
x_0 = 500,
y_0 = 500
)
?define_new_grid
define_new_grid(
pt_0_geo = c(-108.51, 37.385),
pt_0_grid = c(500, 500),
name = NULL
)
?define_legacy_grid
define_legacy_grid(
pt_0_geo = c(-108.51, 37.385),
pt_0_grid = c(500, 500),
pt_1_geo = c(-108.511, 37.384),
pt_1_grid = c(360, 380),
name = NULL
)
define_legacy_grid(
pt_0_geo = c(-108.51, 37.385),
pt_0_grid = c(500, 500),
pt_1_geo = c(-108.511, 37.384),
pt_1_grid = c(360, 380),
name = "Screwy Legacy Grid"
)
usethis::use_tidy_coc()
usethis::use_tidy_github_actions()
?use_lifecycle_badge
?usethis::use_lifecycle
usethis::use_lifecycle()
?usethis::use_github_actions
usethis::use_tidy_github()
usethis::use_tidy_style()
library(localgrid)
devtools::check()
